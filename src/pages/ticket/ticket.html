<!--
  Generated template for the Ticket page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Violator's Ticket</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>

<input type="hidden" [(ngModel)]="driverDetails.dblLongitude" />
<input type="hidden" [(ngModel)]="driverDetails.dblLatitude" />
<input type="hidden" [(ngModel)]="driverDetails.isExists" />
<form #form="ngForm" (ngSubmit)="logForm()">
<ion-list>
  <ion-item>
    <ion-icon name="card" item-left></ion-icon>
    <ion-input type="text" placeholder="License Number" [(ngModel)]="driverDetails.strDriverLicense" required
     name="first"></ion-input>
  </ion-item>
    <button ion-button block type="submit">Check Violator</button>
</ion-list>
</form>

    <ion-list>
        <ion-list-header>
            Violator's Profile
        </ion-list-header>
        <ion-item>
            <ion-icon name="contact" item-left></ion-icon>
            <ion-input type="text" placeholder="Last Name" [(ngModel)]="driverDetails.strDriverLastName"></ion-input>
        </ion-item>
        <ion-item>
            <ion-icon name="contact" item-left></ion-icon>
            <ion-input type="text" placeholder="First Name" [(ngModel)]="driverDetails.strDriverFirstName"></ion-input>
        </ion-item>
        <ion-item>
            <ion-icon name="contact" item-left></ion-icon>
            <ion-input type="text" placeholder="Middle Name" [(ngModel)]="driverDetails.strDriverMiddleName"></ion-input>
        </ion-item>
        <ion-item>
            <ion-icon name="calendar" item-left></ion-icon>
            <ion-input type="text" placeholder="Birthday" [(ngModel)]="driverDetails.datDriverBirthday"></ion-input>
        </ion-item>
         <ion-item>
            <ion-icon name="card" item-left></ion-icon>
            <ion-input type="text" placeholder="License Expiration Date" [(ngModel)]="driverDetails.datLicenseExpiration"></ion-input>
        </ion-item>
          <ion-list>
            <ion-item>
            <ion-icon name="car" item-left></ion-icon>
              <ion-label>Vehicle Type</ion-label>
              <ion-select cancelText="Cancel" okText="Okay" [(ngModel)]="driverDetails.intLicenseType">
                <ion-option value="1">Student</ion-option>
                <ion-option value="2">Non-Professional</ion-option>
                <ion-option value="3">Professional</ion-option>
              </ion-select>
            </ion-item>
          </ion-list>
       
           
    </ion-list>

    <ion-list>
      <ion-list-header>
            Vehicle's Description
       </ion-list-header>
        <ion-item>a
            <ion-icon name="car" item-left></ion-icon>
            <ion-input type="text" placeholder="Plate Number" [(ngModel)]="driverDetails.strPlateNumber"></ion-input>
        </ion-item>
        <ion-item>
            <ion-icon name="car" item-left></ion-icon>
            <ion-input type="text" placeholder="Resgistration Number" [(ngModel)]="driverDetails.strRegistrationSticker"></ion-input>
        </ion-item>
            <ion-list>
              <ion-item>
              <ion-icon name="car" item-left></ion-icon>
                <ion-label>Vehicle Type</ion-label>
                <ion-select cancelText="Cancel" okText="Okay" [(ngModel)]="driverDetails.intVehicleTypeID">
                  <ion-option value="1">BUS</ion-option>
                  <ion-option value="2">CAR</ion-option>
                  <ion-option value="3">AUV</ion-option>
                  <ion-option value="4">JEEPNEY</ion-option>
                  <ion-option value="5">MOTORCYLCE</ion-option>
                  <ion-option value="6">TAXI</ion-option>
                  <ion-option value="7">TRAILER</ion-option>
                  <ion-option value="8">TRICYCLE</ion-option>
                  <ion-option value="9">TRUCK</ion-option>
                  <ion-option value="10">UTILITY</ion-option>
                  <ion-option value="11">VAN</ion-option>
                </ion-select>
              </ion-item>
            </ion-list>
             <button ion-button block color="danger" (click)="showListOfViolations()">Add Violations</button>
    </ion-list>
    
    <ion-list>
          <ion-list-header>
          Violation/s
          </ion-list-header>
          <ion-item *ngFor="let violationsSelected of violationsSelectedObject">
            <h2>{{violationsSelected.strViolationDescription}}</h2>
            <p>Php {{violationsSelected.dblPrice}}</p>
            <p>{{violationsSelected.strViolationCode}}</p>
          </ion-item>
    </ion-list>
    <button ion-button block color="secondary" (click)="fileTicket(driverDetails.dblLongitude,driverDetails.dblLatitude,driverDetails.strDriverLicense,driverDetails.strDriverFirstName,driverDetails.strDriverMiddleName,driverDetails.strDriverLastName,driverDetails.datDriverBirthday,driverDetails.datLicenseExpiration,driverDetails.intLicenseType,driverDetails.strPlateNumber,driverDetails.strRegistrationSticker,driverDetails.intVehicleTypeID,driverDetails.isExists)">File Ticket</button>
  
</ion-content>

